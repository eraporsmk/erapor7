(window.webpackJsonp=window.webpackJsonp||[]).push([[88],{Hrou:function(t,e,a){"use strict";a.d(e,"a",(function(){return h}));var s=a("L3ns"),r=a("xjcK"),n=a("2C+6"),i=a("z3V6"),o=a("STsD"),l=a("Md8H"),c=a("kO/s"),d=a("jBgq"),_=a("SPl0"),u=a("cSte");function b(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function m(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?b(Object(a),!0).forEach((function(e){p(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function p(t,e,a){return e in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}var v=Object(i.d)(Object(n.m)(m(m(m({},c.b),_.a),u.a)),r.sb),h=Object(s.c)({name:r.sb,mixins:[o.a,l.a,c.a,d.a,u.b,_.b],props:v,computed:{isTableSimple:function(){return!0}}})},"xF+q":function(t,e,a){"use strict";a.r(e);a("rB9j"),a("hByQ");var s=a("IF94"),r=a("LvDl"),n=a.n(r),i=a("oVt+"),o=a("sove"),l=a("R5cT"),c=a("KaE5"),d=a("AeMN"),_=a("JtJI"),u=a("GUe+"),b=a("mwM1"),m=a("Hrou"),p=a("C9gC"),v=a("okd0"),h=a("bPaI"),g=a("Ki4g"),f=a("CAmi"),y=a("Snq/"),k=a.n(y),B={components:{BRow:i.a,BCol:o.a,BFormInput:l.a,BTable:c.a,BSpinner:d.a,BPagination:_.a,BButton:u.a,BOverlay:b.a,BTableSimple:m.a,BThead:p.a,BTbody:v.a,BTh:h.a,BTr:g.a,BTd:f.a,vSelect:k.a},props:{items:{type:Array,required:!0},fields:{type:Array,required:!0},meta:{required:!0},isBusy:{type:Boolean,default:function(){return!0}}},data:function(){return{loading_modal:!1,sortBy:null,sortDesc:!1,title:"",dudi_id:"",akt_pd_id:"",data:null,list_anggota:[]}},watch:{sortBy:function(t){this.$emit("sort",{sortBy:this.sortBy,sortDesc:this.sortDesc})},sortDesc:function(t){this.$emit("sort",{sortBy:this.sortBy,sortDesc:this.sortDesc})}},methods:{detil:function(t){var e=this;this.loading_modal=!0,this.dudi_id=t,this.$http.post("/referensi/detil-dudi",{dudi_id:t}).then((function(t){e.loading_modal=!1;var a=t.data;e.title="Informasi Detil ".concat(a.nama),e.data=a,e.$refs["mou-modal"].show()})).catch((function(t){console.log(t)}))},anggota:function(t){var e=this;this.loading_modal=!0,this.akt_pd_id=t,this.$http.post("/referensi/anggota-prakerin",{akt_pd_id:t,semester_id:this.user.semester.semester_id}).then((function(t){e.loading_modal=!1;var a=t.data;e.title="Anggota Aktifitas Prakerin",e.list_anggota=a,e.$refs["anggota-modal"].show()})).catch((function(t){console.log(t)}))},loadPerPage:function(t){this.$emit("per_page",this.meta.per_page)},changePage:function(t){this.$emit("pagination",t)},search:n.a.debounce((function(t){this.$emit("search",t)}),500)}},C=a("KHd+"),x=Object(C.a)(B,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("b-row",[a("b-col",{staticClass:"mb-2",attrs:{md:"4"}},[a("v-select",{attrs:{options:[10,25,50,100],clearable:!1,searchable:!1},on:{input:t.loadPerPage},model:{value:t.meta.per_page,callback:function(e){t.$set(t.meta,"per_page",e)},expression:"meta.per_page"}})],1),t._v(" "),a("b-col",{attrs:{md:"4","offset-md":"4"}},[a("b-form-input",{attrs:{placeholder:"Cari data..."},on:{input:t.search}})],1)],1),t._v(" "),a("b-overlay",{attrs:{show:t.loading_modal,rounded:"",opacity:"0.6",size:"lg","spinner-variant":"warning"}},[a("b-table",{attrs:{responsive:"",bordered:"",striped:"",items:t.items,fields:t.fields,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"show-empty":"",busy:t.isBusy},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e}},scopedSlots:t._u([{key:"table-busy",fn:function(){return[a("div",{staticClass:"text-center text-danger my-2"},[a("b-spinner",{staticClass:"align-middle"}),t._v(" "),a("strong",[t._v("Loading...")])],1)]},proxy:!0},{key:"cell(aktifitas)",fn:function(e){return[t._v("\n        "+t._s(e.item.akt_pd_count)+"\n      ")]}},{key:"cell(actions)",fn:function(e){return[a("b-button",{attrs:{variant:"primary",size:"sm"},on:{click:function(a){return t.detil(e.item.dudi_id)}}},[t._v("Detil")])]}}])})],1),t._v(" "),a("b-row",{staticClass:"mt-2"},[a("b-col",{attrs:{md:"6"}},[a("p",[t._v("Menampilkan "+t._s(t.meta.from?t.meta.from:0)+" sampai "+t._s(t.meta.to)+" dari "+t._s(t.meta.total)+" entri")])]),t._v(" "),a("b-col",{attrs:{md:"6"}},[a("b-pagination",{attrs:{"total-rows":t.meta.total,"per-page":t.meta.per_page,align:"right","aria-controls":"dw-datatable"},on:{change:t.changePage},model:{value:t.meta.current_page,callback:function(e){t.$set(t.meta,"current_page",e)},expression:"meta.current_page"}})],1)],1),t._v(" "),a("b-modal",{ref:"mou-modal",attrs:{size:"xl",title:t.title,"ok-only":"","ok-title":"Tutup","ok-variant":"secondary"}},[a("b-overlay",{attrs:{show:t.loading_modal,rounded:"",opacity:"0.6",size:"lg","spinner-variant":"danger"}},[t.data?[a("b-table-simple",{attrs:{hover:"",bordered:"",responsive:""}},[a("b-tr",[a("b-td",[t._v("Nama")]),t._v(" "),a("b-td",[t._v(t._s(t.data.nama))])],1),t._v(" "),a("b-tr",[a("b-td",[t._v("Bidang Usaha")]),t._v(" "),a("b-td",[t._v(t._s(t.data.nama_bidang_usaha))])],1),t._v(" "),a("b-tr",[a("b-td",[t._v("Alamat")]),t._v(" "),a("b-td",[t._v(t._s(t.data.alamat_jalan))])],1)],1),t._v(" "),a("h4",{staticClass:"card-title"},[t._v("MoU")]),t._v(" "),a("b-table-simple",{attrs:{hover:"",bordered:"",responsive:""}},[a("b-thead",[a("b-tr",[a("b-th",{staticClass:"text-center"},[t._v("Nomor MoU")]),t._v(" "),a("b-th",{staticClass:"text-center"},[t._v("Judul MoU")]),t._v(" "),a("b-th",{staticClass:"text-center"},[t._v("Periode Kerja Sama")]),t._v(" "),a("b-th",{staticClass:"text-center"},[t._v("Narahubung")]),t._v(" "),a("b-th",{staticClass:"text-center"},[t._v("Telp. Narahubung")])],1)],1),t._v(" "),a("b-tbody",t._l(t.data.mou,(function(e,s){return a("b-tr",{key:e.mou_id},[a("b-td",[t._v(t._s(e.nomor_mou))]),t._v(" "),a("b-td",[t._v(t._s(e.judul_mou))]),t._v(" "),a("b-td",[t._v(t._s(e.tanggal_mulai)+" s/d "+t._s(e.tanggal_selesai))]),t._v(" "),a("b-td",[t._v(t._s(e.contact_person))]),t._v(" "),a("b-td",[t._v(t._s(e.telp_cp))])],1)})),1)],1),t._v(" "),a("h4",{staticClass:"card-title"},[t._v("Aktifitas Peserta Didik")]),t._v(" "),a("b-table-simple",{attrs:{hover:"",bordered:"",responsive:""}},[a("b-thead",[a("b-tr",[a("b-th",{staticClass:"text-center"},[t._v("Nama Kegiatan")]),t._v(" "),a("b-th",{staticClass:"text-center"},[t._v("SK Tugas")]),t._v(" "),a("b-th",{staticClass:"text-center"},[t._v("Guru Pembimbing")]),t._v(" "),a("b-th",{staticClass:"text-center"},[t._v("Jml PD")]),t._v(" "),a("b-th",{staticClass:"text-center"},[t._v("Aksi")])],1)],1),t._v(" "),a("b-tbody",[t._l(t.data.mou,(function(e,s){return t._l(e.akt_pd,(function(e,s){return a("b-tr",{key:e.akt_pd_id},[a("b-td",[t._v(t._s(e.judul_akt_pd))]),t._v(" "),a("b-td",[t._v(t._s(e.sk_tugas))]),t._v(" "),a("b-td",[a("ul",t._l(e.bimbing_pd,(function(e,s){return a("li",{key:e.bimbing_pd_id},[t._v(t._s(e.guru.nama_lengkap))])})),0)]),t._v(" "),a("b-td",{staticClass:"text-center"},[t._v(t._s(e.anggota_akt_pd_count))]),t._v(" "),a("b-td",{staticClass:"text-center"},[a("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(a){return t.anggota(e.akt_pd_id)}}},[t._v("Detil Anggota")])],1)],1)}))}))],2)],1)]:t._e()],2)],1),t._v(" "),a("b-modal",{ref:"anggota-modal",attrs:{size:"xl",title:t.title,"ok-only":"","ok-title":"Tutup","ok-variant":"secondary"}},[a("b-overlay",{attrs:{show:t.loading_modal,rounded:"",opacity:"0.6",size:"lg","spinner-variant":"danger"}},[a("b-table-simple",{attrs:{hover:"",bordered:"",responsive:""}},[a("b-thead",[a("b-tr",[a("b-th",{staticClass:"text-center"},[t._v("No")]),t._v(" "),a("b-th",{staticClass:"text-center"},[t._v("Nama")]),t._v(" "),a("b-th",{staticClass:"text-center"},[t._v("NISN")]),t._v(" "),a("b-th",{staticClass:"text-center"},[t._v("L/P")]),t._v(" "),a("b-th",{staticClass:"text-center"},[t._v("Tempat, Tanggal Lahir")]),t._v(" "),a("b-th",{staticClass:"text-center"},[t._v("Agama")]),t._v(" "),a("b-th",{staticClass:"text-center"},[t._v("Kelas")])],1)],1),t._v(" "),a("b-tbody",t._l(t.list_anggota,(function(e,s){return a("b-tr",{key:e.peserta_didik_id},[a("b-td",{staticClass:"text-center"},[t._v(t._s(s+1))]),t._v(" "),a("b-td",[t._v(t._s(e.nama))]),t._v(" "),a("b-td",{staticClass:"text-center"},[t._v(t._s(e.nisn))]),t._v(" "),a("b-td",{staticClass:"text-center"},[t._v(t._s(e.jenis_kelamin))]),t._v(" "),a("b-td",[t._v(t._s(e.tempat_lahir)+", "+t._s(e.tanggal_lahir_indo))]),t._v(" "),a("b-td",[t._v(t._s(e.agama?e.agama.nama:""))]),t._v(" "),a("b-td",[t._v(t._s(e.kelas?e.kelas.nama:""))])],1)})),1)],1)],1)],1)],1)}),[],!1,null,null,null).exports,P={components:{BCard:s.a,Datatable:x},data:function(){return{isBusy:!0,fields:[{key:"nama",label:"Nama",sortable:!0,thClass:"text-center"},{key:"nama_bidang_usaha",label:"Bidang Usaha",sortable:!0,thClass:"text-center"},{key:"alamat_jalan",label:"Alamat",sortable:!0,thClass:"text-center"},{key:"aktifitas",label:"Jml Aktifitas",sortable:!1,thClass:"text-center",tdClass:"text-center"},{key:"actions",label:"Aksi",sortable:!1,thClass:"text-center",tdClass:"text-center"}],items:[],meta:{},current_page:1,per_page:10,search:"",sortBy:"nama",sortByDesc:!1}},created:function(){this.loadPostsData()},methods:{loadPostsData:function(){var t=this;this.isBusy=!0;var e=this.current_page;this.$http.get("/referensi/dudi",{params:{user_id:this.user.user_id,sekolah_id:this.user.sekolah_id,semester_id:this.user.semester.semester_id,periode_aktif:this.user.semester.nama,page:e,per_page:this.per_page,q:this.search,sortby:this.sortBy,sortbydesc:this.sortByDesc?"DESC":"ASC"}}).then((function(e){var a=e.data.data;t.isBusy=!1,t.items=a.data,t.meta={total:a.total,current_page:a.current_page,per_page:a.per_page,from:a.from,to:a.to}}))},handlePerPage:function(t){this.per_page=t,this.loadPostsData()},handlePagination:function(t){this.current_page=t,this.loadPostsData()},handleSearch:function(t){this.search=t,this.loadPostsData()},handleSort:function(t){t.sortBy&&(this.sortBy=t.sortBy,this.sortByDesc=t.sortDesc,this.loadPostsData())}}},D=Object(C.a)(P,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-card",[a("datatable",{attrs:{isBusy:t.isBusy,items:t.items,fields:t.fields,meta:t.meta},on:{per_page:t.handlePerPage,pagination:t.handlePagination,search:t.handleSearch,sort:t.handleSort}})],1)}),[],!1,null,null,null);e.default=D.exports}}]);