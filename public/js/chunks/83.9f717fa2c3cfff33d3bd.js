(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{"5+vy":function(a,s,t){var n=t("JPst"),e=t("nm7J");(s=n(!1)).i(e),s.push([a.i,".swal2-container .swal2-popup {\n  border-radius: 0.428rem;\n  padding-bottom: 1.5rem;\n}\n.swal2-container .swal2-popup .swal2-close:focus {\n  outline: none;\n  box-shadow: none;\n}\n.swal2-container .swal2-popup .swal2-content {\n  color: #6e6b7b;\n}\n.swal2-container .swal2-popup .swal2-title {\n  font-size: 1.35rem;\n  font-weight: inherit;\n  color: #5e5873;\n}\n.swal2-container .swal2-popup button.swal2-confirm:focus {\n  box-shadow: none;\n}\n.swal2-container .swal2-popup input.swal2-input {\n  height: 2.714rem;\n  font-size: 0.9rem;\n  padding: 0.438rem 1rem;\n  color: #6e6b7b;\n  border-color: #d8d6de;\n  border-radius: 0.357rem;\n  line-height: 1.45;\n}\n.swal2-container .swal2-popup input.swal2-input:focus {\n  border-color: #7367f0 !important;\n  box-shadow: 0 3px 10px 0 rgba(34, 41, 47, 0.1);\n}\n.swal2-container .swal2-popup .swal2-select {\n  width: 100%;\n}\n.swal2-container .swal2-popup .swal2-progress-steps .swal2-progress-step {\n  background-color: #7367f0;\n}\n.swal2-container .swal2-popup .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step ~ .swal2-progress-step-line, .swal2-container .swal2-popup .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step ~ .swal2-progress-step {\n  background-color: #b3adf7;\n}\n.swal2-container .swal2-popup .swal2-progress-steps .swal2-progress-step-line {\n  background-color: #7367f0;\n}\n.swal2-container .swal2-popup pre {\n  min-height: 1.35rem;\n  margin-top: 0.5rem;\n}\n.swal2-container .swal2-popup .swal2-footer {\n  border-color: #ebe9f1;\n  color: #6e6b7b;\n}\n.dark-layout .swal2-container .swal2-popup .swal2-title {\n  color: #d0d2d6;\n}\n.dark-layout .swal2-container .swal2-modal {\n  background-color: #283046;\n}\n.dark-layout .swal2-container .swal2-modal .swal2-header .swal2-title {\n  color: #d0d2d6;\n}\n.dark-layout .swal2-container .swal2-modal .swal2-header .swal2-icon-text {\n  color: inherit;\n}\n.dark-layout .swal2-container .swal2-modal .swal2-header .swal2-success-circular-line-left, .dark-layout .swal2-container .swal2-modal .swal2-header .swal2-success-circular-line-right, .dark-layout .swal2-container .swal2-modal .swal2-header .swal2-success-fix, .dark-layout .swal2-container .swal2-modal .swal2-header .swal2-animate-success-icon {\n  background-color: #283046 !important;\n}\n.dark-layout .swal2-container .swal2-modal input.swal2-input {\n  border-color: #3b4253;\n  color: #b4b7bd;\n}\n.dark-layout .swal2-container .swal2-modal .swal2-content, .dark-layout .swal2-container .swal2-modal .swal2-html-container {\n  color: #b4b7bd;\n}\n.dark-layout .swal2-container .swal2-modal pre, .dark-layout .swal2-container .swal2-modal code {\n  color: #b4b7bd;\n}\n.dark-layout .swal2-container .swal2-modal .swal2-input {\n  background-color: #283046;\n}\n.dark-layout .swal2-container .swal2-modal .swal2-footer {\n  border-color: #3b4253;\n  color: #b4b7bd;\n}\n.dark-layout .swal2-container .swal2-validation-message {\n  background-color: #161d31;\n  color: #b4b7bd;\n}\nhtml[dir=rtl] .swal2-rtl .swal2-close {\n  left: 0;\n  right: auto;\n}",""]),a.exports=s},EPzJ:function(a,s,t){"use strict";t.r(s);var n=t("IF94"),e=t("YZfj"),o=t("AeMN"),r=t("Hrou"),i=t("okd0"),l=t("C9gC"),c=t("Ki4g"),d=t("CAmi"),u=t("bPaI"),p=t("6Ytq"),w=t("GUe+"),b=t("JhbM"),h=t("X9p1"),m={components:{BCard:n.a,BCardBody:e.a,BSpinner:o.a,BTableSimple:r.a,BTbody:i.a,BThead:l.a,BTr:c.a,BTd:d.a,BTh:u.a,BBadge:p.a,BButton:w.a,VBTooltip:b.a,BAlert:h.a},directives:{"b-tooltip":b.a},data:function(){return{loading:!1,isBusy:!0,show:!1,jam_sinkron:!1,syncText:"",dapodik:[]}},created:function(){this.loadPostData()},methods:{loadPostData:function(){var a=this;this.isBusy=!0,this.$http.post("/sinkronisasi",{sekolah_id:this.user.sekolah_id,user_id:this.user.user_id,semester_id:this.semester_id}).then((function(s){a.isBusy=!1;var t=s.data;a.jam_sinkron=t.jam_sinkron,a.dapodik=t.data_sinkron,a.show=!1,a.syncText=""}))},syncSatuan:function(a,s){var t,n=this;a&&s&&(this.show=!0,this.syncText="Menyiapkan proses sinkronisasi",this.loading=!0,t=setInterval(this.myTimer,500),this.$http.post("/sinkronisasi/dapodik",{email:this.user.email,satuan:s,tujuan:a,sekolah_id:this.user.sekolah_id,user_id:this.user.user_id,semester_id:this.semester_id}).then((function(a){n.loading=!1,n.show=!1,clearInterval(t),n.syncText="Proses sinkronisasi selesai",n.$swal({icon:"success",title:"Berhasil",text:"Sinkronisasi Dapodik Berhasil",customClass:{confirmButton:"btn btn-success"}}).then((function(a){n.loadPostData()}))})))},myTimer:function(){var a=this;this.$http.get("/sinkronisasi/hitung/"+this.user.sekolah_id).then((function(s){a.show=!0;var t=s.data;t.output&&(t.output.jumlah?1===t.output.jumlah&&1===t.output.inserted?a.syncText="Proses sinkronisasi selesai":a.syncText=t.output.table+" ("+t.output.inserted+"/"+t.output.jumlah+")":a.syncText=t.output.table)}))}}},v=(t("ecLh"),t("KHd+")),k=Object(v.a)(m,(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("b-card",{attrs:{"no-body":""}},[t("b-card-body",[a.isBusy?t("div",{staticClass:"text-center text-danger my-2"},[t("b-spinner",{staticClass:"align-middle"}),a._v(" "),t("strong",[a._v("Loading...")])],1):t("div",[a.jam_sinkron?t("b-alert",{attrs:{show:"",variant:"danger"}},[t("div",{staticClass:"alert-body text-center"},[t("h2",[a._v("Penyesuaian Waktu Layanan Sinkronisasi Dapodik")]),a._v(" "),t("p",[a._v("Dikarenakan adanya proses rutin sinkronisasi data Dapodik antara Server PUSDATIN dan Server Direktorat SMK, "),t("br"),a._v("maka layanan sinkronisasi hanya dapat diakses antara pukul "),t("span",{staticClass:"text-danger"},[t("b",[a._v("03.00 s/d 24.00 (WIB)")])])])])]):a._e(),a._v(" "),t("b-table-simple",{attrs:{responsive:""}},[t("b-thead",{directives:[{name:"show",rawName:"v-show",value:a.show,expression:"show"}],attrs:{"head-variant":"dark"}},[t("b-tr",[t("b-th",{staticClass:"text-center"},[a._v(a._s(a.syncText))])],1)],1)],1),a._v(" "),a.jam_sinkron?a._e():t("b-table-simple",{attrs:{bordered:"",responsive:""}},[t("b-thead",[t("b-tr",[t("b-th",{staticClass:"text-center"},[a._v("Data")]),a._v(" "),t("b-th",{staticClass:"text-center"},[a._v("Jml Data Dapodik")]),a._v(" "),t("b-th",{staticClass:"text-center"},[a._v("Jml Data e-Rapor")]),a._v(" "),t("b-th",{staticClass:"text-center"},[a._v("Jml Data Tersinkronisasi")]),a._v(" "),t("b-th",{staticClass:"text-center"},[a._v("Status")]),a._v(" "),t("b-th",{staticClass:"text-center"},[a._v("Aksi")])],1)],1),a._v(" "),t("b-tbody",[a._l(a.dapodik,(function(s,n){return[t("b-tr",[t("b-td",[a._v("\n                "+a._s(s.nama)+"\n                "),s.icon?t("font-awesome-icon",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.html",value:s.html,expression:"item.html",modifiers:{hover:!0,html:!0}}],attrs:{icon:"fa-solid fa-circle-question"}}):a._e()],1),a._v(" "),t("b-td",{staticClass:"text-center"},[a._v(a._s(s.dapodik))]),a._v(" "),t("b-td",{staticClass:"text-center"},[a._v(a._s(s.erapor))]),a._v(" "),t("b-td",{staticClass:"text-center"},[a._v(a._s(s.sinkron))]),a._v(" "),t("b-td",{staticClass:"text-center"},[s.sinkron?[s.dapodik>s.erapor?t("b-badge",{attrs:{variant:"warning"}},[a._v("Kurang")]):t("b-badge",{attrs:{variant:"success"}},[a._v("Lengkap")])]:[t("b-badge",{attrs:{variant:"danger"}},[a._v("Belum")])]],2),a._v(" "),t("b-td",{staticClass:"text-center"},[s.dapodik?[a.loading?t("b-button",{attrs:{variant:"success",block:"",size:"sm",disabled:""}},[t("b-spinner",{attrs:{small:""}}),a._v(" "),t("span",{staticClass:"sr-only"},[a._v("Loading...")])],1):t("b-button",{attrs:{block:"",size:"sm",variant:"success"},on:{click:function(t){return a.syncSatuan(s.server,s.aksi)}}},[a._v("Sinkronisasi")])]:[a._v("\n                  -\n                ")]],2)],1)]}))],2)],1)],1)])],1)}),[],!1,null,null,null);s.default=k.exports},ecLh:function(a,s,t){"use strict";t("yXrH")},yXrH:function(a,s,t){var n=t("5+vy");"string"==typeof n&&(n=[[a.i,n,""]]);var e={hmr:!0,transform:void 0,insertInto:void 0};t("aET+")(n,e);n.locals&&(a.exports=n.locals)}}]);